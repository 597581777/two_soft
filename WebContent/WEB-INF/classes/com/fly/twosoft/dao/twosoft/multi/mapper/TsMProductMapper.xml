<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fly.twosoft.dao.twosoft.multi.mapper.TsMProductMapper">


	<resultMap id="BaseResultMap"
		type="com.fly.twosoft.dao.twosoft.multi.model.TsMProduct"
		extends="com.fly.twosoft.dao.twosoft.single.mapper.TsProductMapper.BaseResultMap">
		<result property="year" column="year__" jdbcType="INTEGER" />
		<result property="count" column="count__" jdbcType="INTEGER" />
	</resultMap>


	<update id="updateByExampleSelectiveNull" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update TS_PRODUCT
		<set>
			<if test="record.id != null">
				ID = #{record.id,jdbcType=VARCHAR},
			</if>
			<if test="record.batchId != null">
				BATCH_ID = #{record.batchId,jdbcType=VARCHAR},
			</if>
			<if test="record.certificatePreNo != null">
				CERTIFICATE_PRE_NO =
				#{record.certificatePreNo,jdbcType=VARCHAR},
			</if>
			<if test="record.certificateNo != null">
				CERTIFICATE_NO =
				#{record.certificateNo,jdbcType=VARCHAR},
			</if>
			<if test="record.enterpriseName != null">
				ENTERPRISE_NAME =
				#{record.enterpriseName,jdbcType=VARCHAR},
			</if>
			<if test="record.creditNo != null">
				CREDIT_NO = #{record.creditNo,jdbcType=VARCHAR},
			</if>
			<if test="record.productType != null">
				PRODUCT_TYPE = #{record.productType,jdbcType=SMALLINT},
			</if>
			<if test="record.linkMan != null">
				LINK_MAN = #{record.linkMan,jdbcType=VARCHAR},
			</if>
			<if test="record.telephone != null">
				TELEPHONE = #{record.telephone,jdbcType=VARCHAR},
			</if>
			<if test="record.email != null">
				EMAIL = #{record.email,jdbcType=VARCHAR},
			</if>
			<if test="record.name != null">
				NAME = #{record.name,jdbcType=VARCHAR},
			</if>
			<if test="record.version != null">
				VERSION = #{record.version,jdbcType=VARCHAR},
			</if>
			<if test="record.introduction != null">
				INTRODUCTION = #{record.introduction,jdbcType=VARCHAR},
			</if>
			<if test="record.softType != null">
				SOFT_TYPE = #{record.softType,jdbcType=SMALLINT},
			</if>
			<if test="record.softType2 != null">
				SOFT_TYPE2 = #{record.softType2,jdbcType=SMALLINT},
			</if>
			<if test="record.softTypeOther != null">
				SOFT_TYPE_OTHER =
				#{record.softTypeOther,jdbcType=VARCHAR},
			</if>
			<if test="record.developer != null">
				DEVELOPER = #{record.developer,jdbcType=VARCHAR},
			</if>
			<if test="record.writingUser != null">
				WRITING_USER = #{record.writingUser,jdbcType=VARCHAR},
			</if>
			<if test="record.writingNationCode != null">
				WRITING_NATION_CODE =
				#{record.writingNationCode,jdbcType=VARCHAR},
			</if>
			<if test="record.writingNationName != null">
				WRITING_NATION_NAME =
				#{record.writingNationName,jdbcType=VARCHAR},
			</if>
			<if test="record.writingNo != null">
				WRITING_NO = #{record.writingNo,jdbcType=VARCHAR},
			</if>
			<if test="record.patentUser != null">
				PATENT_USER = #{record.patentUser,jdbcType=VARCHAR},
			</if>
			<if test="record.patentNationCode != null">
				PATENT_NATION_CODE =
				#{record.patentNationCode,jdbcType=VARCHAR},
			</if>
			<if test="record.patentNationName != null">
				PATENT_NATION_NAME =
				#{record.patentNationName,jdbcType=VARCHAR},
			</if>
			<if test="record.patentNo != null">
				PATENT_NO = #{record.patentNo,jdbcType=VARCHAR},
			</if>
			<if test="record.checkOrg != null">
				CHECK_ORG = #{record.checkOrg,jdbcType=VARCHAR},
			</if>
			<if test="record.checkResult != null">
				CHECK_RESULT = #{record.checkResult,jdbcType=SMALLINT},
			</if>
			<if test="record.determineOrg != null">
				DETERMINE_ORG = #{record.determineOrg,jdbcType=VARCHAR},
			</if>
			<if test="record.determineResult != null">
				DETERMINE_RESULT =
				#{record.determineResult,jdbcType=SMALLINT},
			</if>
			<if test="record.winInfo != null">
				WIN_INFO = #{record.winInfo,jdbcType=VARCHAR},
			</if>
			<if test="record.orgId != null">
				ORG_ID = #{record.orgId,jdbcType=VARCHAR},
			</if>
			<if test="record.orgName != null">
				ORG_NAME = #{record.orgName,jdbcType=VARCHAR},
			</if>
			<if test="record.orgFullName != null">
				ORG_FULL_NAME = #{record.orgFullName,jdbcType=VARCHAR},
			</if>
			<if test="record.orgPath != null">
				ORG_PATH = #{record.orgPath,jdbcType=VARCHAR},
			</if>
			<if test="record.applyTime != null">
				APPLY_TIME = #{record.applyTime,jdbcType=TIMESTAMP},
			</if>
			SHOW_BEGIN_TIME = #{record.showBeginTime,jdbcType=TIMESTAMP},
			SHOW_END_TIME = #{record.showEndTime,jdbcType=TIMESTAMP},
			<if test="record.showState != null">
				SHOW_STATE = #{record.showState,jdbcType=SMALLINT},
			</if>
			SHOW_INDEX = #{record.showIndex,jdbcType=INTEGER},
			<if test="record.showId != null">
				SHOW_ID = #{record.showId,jdbcType=VARCHAR},
			</if>
			<if test="record.deleteState != null">
				DELETE_STATE = #{record.deleteState,jdbcType=SMALLINT},
			</if>
			<if test="record.createTime != null">
				CREATE_TIME = #{record.createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.createPersonId != null">
				CREATE_PERSON_ID =
				#{record.createPersonId,jdbcType=VARCHAR},
			</if>
			<if test="record.createPersonName != null">
				CREATE_PERSON_NAME =
				#{record.createPersonName,jdbcType=VARCHAR},
			</if>
			<if test="record.updateTime != null">
				UPDATE_TIME = #{record.updateTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.updatePersonId != null">
				UPDATE_PERSON_ID =
				#{record.updatePersonId,jdbcType=VARCHAR},
			</if>
			<if test="record.updatePersonName != null">
				UPDATE_PERSON_NAME =
				#{record.updatePersonName,jdbcType=VARCHAR},
			</if>
			<if test="record.remark != null">
				REMARK = #{record.remark,jdbcType=VARCHAR},
			</if>
			<if test="record.verifyState != null">
				VERIFY_STATE = #{record.verifyState,jdbcType=SMALLINT},
			</if>			
				VERIFY_TIME = #{record.verifyTime,jdbcType=TIMESTAMP},
			
			<if test="record.verifyResult != null">
				VERIFY_RESULT = #{record.verifyResult,jdbcType=VARCHAR},
			</if>
			<if test="record.quickState != null">
				QUICK_STATE = #{record.quickState,jdbcType=SMALLINT},
			</if>
			<if test="record.quickApplyTime != null">
				QUICK_APPLY_TIME =
				#{record.quickApplyTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.quickRemark != null">
				QUICK_REMARK = #{record.quickRemark,jdbcType=VARCHAR},
			</if>
			<if test="record.quickFileName != null">
				QUICK_FILE_NAME =
				#{record.quickFileName,jdbcType=VARCHAR},
			</if>
			<if test="record.effectiveEndTime != null">
				EFFECTIVE_END_TIME =
				#{record.effectiveEndTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.printState != null">
				PRINT_STATE = #{record.printState,jdbcType=SMALLINT},
			</if>
			<if test="record.printTime != null">
				PRINT_TIME = #{record.printTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.printRemark != null">
				PRINT_REMARK = #{record.printRemark,jdbcType=VARCHAR},
			</if>
		</set>
		<if test="_parameter != null">
			<include
				refid="com.fly.twosoft.dao.twosoft.single.mapper.TsProductMapper.Update_By_Example_Where_Clause" />
		</if>
	</update>
	<select id="selectOrgIdAndCount" resultMap="BaseResultMap">
		<if test="orderByClause != null">
			select * from (
		</if>
		select ORG_ID, count(id) count__
		from TS_PRODUCT
		<if test="_parameter != null">
			<include
				refid="com.fly.twosoft.dao.twosoft.single.mapper.TsProductMapper.Example_Where_Clause" />
		</if>
		group by ORG_ID
		order by ORG_ID
		<if test="orderByClause == null">
			<include
				refid="com.fly.twosoft.dao.twosoft.single.mapper.TsProductMapper.mysqlSuffix" />
		</if>
		<if test="orderByClause != null">
			) temp
			order by ${orderByClause}
			<include
				refid="com.fly.twosoft.dao.twosoft.single.mapper.TsProductMapper.mysqlSuffix" />
		</if>
	</select>
	<select id="selectOrgIdYearCount" resultMap="BaseResultMap">
<![CDATA[
select distinct
  ORG_ID,
  year__,
  count(id) as
  count__
  from
  (select
      id,
      ORG_ID,
      extract(year from apply_time) as
      year__
    from
    ts_product
]]>
		<if test="_parameter != null">
			<include
				refid="com.fly.twosoft.dao.twosoft.single.mapper.TsProductMapper.Example_Where_Clause" />
		</if>
		) temp__
		group by ORG_ID, year__
		order by ORG_ID
		asc, year__ desc
		<include
			refid="com.fly.twosoft.dao.twosoft.single.mapper.TsProductMapper.mysqlSuffix" />
	</select>
</mapper>